<html>
<head>
    <title>Flying</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.join').click(function() {
                var roomid = $(this).parent().children('span.roomid').text();
                var playerid = $(this).parent().children('input[name=playerid]').val();
                window.location.href = '/'+roomid+'/'+playerid+'/join';
            });
            $('#create').click(function() {
                var roomid = $('input[name=room-number]').val();
                var playerNumber = parseInt($('input[name=player-number]').val());
                window.location.href = '/'+roomid+'/'+playerNumber+'/create';
            });
        });
    </script>
    <link rel='stylesheet' href='http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css'>
</head>
<body>
<div>
    <br>
    <div>
        <label  class='form-inline'>房间号
            <input type='text' name='room-number' class='input-medium' placeholder="英文字母，数字均可">
        </label>
        <label  class='form-inline'>玩家人数
            <input type='text' name='player-number' class='input-small' placeholder="1-10">
        </label>
        <input type='button' value='创建' class='btn btn-success' id='create'>
    </div>
    <div id='roomBoard'>
        <br>
        {% for room in rooms %}
        <div class='form-inline'>
            <span class='roomid'>{{ room.roomid }}</span>({{ room.playerNumber }}):
            {% for p in room.players %}{{ p }}{% endfor %}
            <input class="input-small" type="text" placeholder="playerid" name='playerid'>
            <input type='button' value='加入' class='join btn btn-small'>
        </div>
        {% endfor %}
    </div>
</body>
</html>
